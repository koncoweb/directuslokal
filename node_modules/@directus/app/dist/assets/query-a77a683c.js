import{a,o as c,e as u,y as l,u as s,q as n,z as h}from"./runtime-core.esm-bundler-753bcc58.js";const r={class:"markdown-body"},p=s("blockquote",null,[s("p",null,"Most Directus API Endpoint operations can be manipulated with the following parameters. It is important to understand them to get the most out of the platform.")],-1),d=s("ul",null,[s("li",null,[s("a",{href:"#fields"},"Fields")]),s("li",null,[s("a",{href:"#filter"},"Filter")]),s("li",null,[s("a",{href:"#search"},"Search")]),s("li",null,[s("a",{href:"#sort"},"Sort")]),s("li",null,[s("a",{href:"#limit"},"Limit")]),s("li",null,[s("a",{href:"#offset"},"Offset"),n(" / "),s("a",{href:"#page"},"Page")]),s("li",null,[s("a",{href:"#aggregation-grouping"},"Aggregation & Grouping")]),s("li",null,[s("a",{href:"#deep"},"Deep")]),s("li",null,[s("a",{href:"#aliases"},"Aliases")]),s("li",null,[s("a",{href:"#export"},"Export")]),s("li",null,[s("a",{href:"#functions"},"Functions")]),s("li",null,[s("a",{href:"#metadata"},"Metadata"),s("ul",null,[s("li",null,[s("a",{href:"#total-count"},"Total Count")]),s("li",null,[s("a",{href:"#filter-count"},"Filter Count")])])])],-1),_=s("hr",null,null,-1),f=s("h2",{id:"fields",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fields"},"#"),n(" Fields")],-1),m=s("p",null,"Choose the fields that are returned in the current dataset. This parameter supports dot notation to request nested relational fields. You can also use a wildcard (*) to include all fields at a specific depth.",-1),j=s("h3",{id:"examples",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples"},"#"),n(" Examples")],-1),g=s("p",null,[n("Get all top-level fields"),s("br"),s("code",null,"*")],-1),b=s("p",null,[n("Get all top-level fields and all second-level relational fields"),s("br"),s("code",null,"*.*")],-1),y=s("div",{class:"tip hint"},[s("div",{class:"hint-title"},"Performance & Size"),s("p",null,[n("While the fields wildcard is very useful for debugging purposes, we recommend only requesting "),s("em",null,"specific"),n(" fields for production use. By only requesting the fields you really need, you can speed up the request, and reduce the overall output size.")])],-1),x=s("p",null,[n("Get all top-level fields and second-level relational fields within images"),s("br"),s("code",null,"*,images.*")],-1),v=s("p",null,[n("Get only the first_name and last_name fields"),s("br"),s("code",null,"first_name,last_name")],-1),w=s("p",null,[n("Get all top-level and second-level relational fields, and third-level fields within images.thumbnails"),s("br"),s("code",null,"*.*,images.thumbnails.*")],-1),q=s("h3",{id:"many-to-any-(union-types)",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#many-to-any-(union-types)"},"#"),n(" Many-To-Any (Union Types)")],-1),k=s("p",null,[n("Seeing that Many-to-Any (M2A) fields have nested data from multiple collections, it’s not always safe / wanted to fetch the same field from every related collection. In M2A fields, you can use the following syntax to specify what fields to fetch from which related nested collection type:"),s("br"),s("code",null,"?fields=<m2a-field>:<collection-scope>.<field>"),n(".")],-1),G=s("p",null,[n("Lets say we have a collection "),s("code",null,"pages"),n(" with a many-to-any field called "),s("code",null,"sections"),n(" that points to "),s("code",null,"headings"),n(", "),s("code",null,"paragraphs"),n(", and "),s("code",null,"videos"),n(". We only want to fetch "),s("code",null,"title"),n(" and "),s("code",null,"level"),n(" from "),s("code",null,"headings"),n(", "),s("code",null,"body"),n(" from "),s("code",null,"paragraphs"),n(" and "),s("code",null,"source"),n(" from "),s("code",null,"videos"),n(". We can achieve that by using:")],-1),A=s("pre",null,[s("code",null,`sections.item:headings.title
sections.item:headings.level
sections.item:paragraphs.body
sections.item:videos.source
`)],-1),E=s("p",null,"In GraphQL, this can be achieved using Union Types.",-1),T=s("h3",{id:"rest-api",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api"},"#"),n(" REST API")],-1),S=s("pre",null,[s("code",null,`?fields=title,body,featured_image.*

// or

?fields[]=title
&fields[]=body
&fields[]=featured_image.*
`)],-1),R=s("h3",{id:"graphql",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql"},"#"),n(" GraphQL")],-1),L=s("p",null,[s("em",null,"Natively supported in GraphQL")],-1),I=s("hr",null,null,-1),P=s("h2",{id:"filter",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#filter"},"#"),n(" Filter")],-1),Q=s("h3",{id:"examples-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples-1"},"#"),n(" Examples")],-1),F=s("p",null,[n("Retrieve all items where "),s("code",null,"first_name"),n(" equals “Rijk”")],-1),D=s("pre",null,[s("code",{class:"language-json"},[s("span",{class:"hljs-punctuation"},"{"),n(`
	`),s("span",{class:"hljs-attr"},'"first_name"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-attr"},'"_eq"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"Rijk"'),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),N=s("p",null,"Retrieve all items in one of the following categories: “vegetables”, “fruit”",-1),C=s("pre",null,[s("code",{class:"language-json"},[s("span",{class:"hljs-punctuation"},"{"),n(`
	`),s("span",{class:"hljs-attr"},'"categories"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-attr"},'"_in"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"["),s("span",{class:"hljs-string"},'"vegetables"'),s("span",{class:"hljs-punctuation"},","),n(),s("span",{class:"hljs-string"},'"fruit"'),s("span",{class:"hljs-punctuation"},"]"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),B=s("p",null,"Retrieve all items that are published between two dates",-1),M=s("pre",null,[s("code",{class:"language-json"},[s("span",{class:"hljs-punctuation"},"{"),n(`
	`),s("span",{class:"hljs-attr"},'"date_published"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-attr"},'"_between"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"["),s("span",{class:"hljs-string"},'"2021-01-24"'),s("span",{class:"hljs-punctuation"},","),n(),s("span",{class:"hljs-string"},'"2021-02-23"'),s("span",{class:"hljs-punctuation"},"]"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),z=s("p",null,"Retrieve all items where the author’s “vip” flag is true",-1),O=s("pre",null,[s("code",{class:"language-json"},[s("span",{class:"hljs-punctuation"},"{"),n(`
	`),s("span",{class:"hljs-attr"},'"author"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-attr"},'"vip"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
			`),s("span",{class:"hljs-attr"},'"_eq"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-literal"},[s("span",{class:"hljs-keyword"},"true")]),n(`
		`),s("span",{class:"hljs-punctuation"},"}"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),U=s("div",{class:"tip hint"},[s("div",{class:"hint-title"},"Nested Filters"),s("p",null,[n("The above example will filter the "),s("em",null,"top level"),n(" items based on a condition "),s("em",null,"in"),n(" the related item. If you’re looking to filter the related items themselves, take a look at "),s("a",{href:"#deep"},[n("the "),s("code",null,"deep"),n(" parameter")]),n("!")])],-1),W=s("h3",{id:"rest-api-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-1"},"#"),n(" REST API")],-1),V=s("pre",null,[s("code",null,`?filter[first_name][_eq]=Rijk

// or

?filter={ "first_name": { "_eq": "Rijk" }}
`)],-1),J=s("h3",{id:"graphql-1",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-1"},"#"),n(" GraphQL")],-1),Y=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	users`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"filter"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"first_name"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"_eq"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"Rijk"'),n(),s("span",{class:"hljs-punctuation"},"}"),n(),s("span",{class:"hljs-punctuation"},"}"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),H=s("hr",null,null,-1),K=s("div",{class:"tip hint"},[s("div",{class:"hint-title"},"Filtering M2A fields"),s("p",null,[n("Because attribute names in GraphQL cannot contain the "),s("code",null,":"),n(" character, you will need to replace it with a double underscore. For example, instead of using "),s("code",null,"sections.item:heading"),n(" in your filter, you will need to use "),s("code",null,"sections.item__heading"),n(" (see the full example below).")]),s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
    articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"filter"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
        `),s("span",{class:"hljs-symbol"},"sections"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
            `),s("span",{class:"hljs-symbol"},"item__headings"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n("  "),s("span",{class:"hljs-comment"},"# Instead of: item:headings"),n(`
                `),s("span",{class:"hljs-symbol"},"title"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
                    `),s("span",{class:"hljs-symbol"},"_eq"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"Section 1"'),n(`
                `),s("span",{class:"hljs-punctuation"},"}"),n(`
            `),s("span",{class:"hljs-punctuation"},"}"),n(`
        `),s("span",{class:"hljs-punctuation"},"}"),n(`
    `),s("span",{class:"hljs-punctuation"},"}"),s("span",{class:"hljs-punctuation"},")"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
        id
    `),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])])],-1),X=s("h2",{id:"search",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#search"},"#"),n(" Search")],-1),Z=s("p",null,"The search parameter allows you to perform a search on all string and text type fields within a collection. It’s an easy way to search for an item without creating complex field filters – though it is far less optimized. It only searches the root item’s fields, related item fields are not included.",-1),$=s("h3",{id:"example",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#example"},"#"),n(" Example")],-1),ss=s("p",null,[n("Find all items that mention Directus"),s("br"),s("code",null,"Directus")],-1),ns=s("h3",{id:"rest-api-2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-2"},"#"),n(" REST API")],-1),ts=s("pre",null,[s("code",null,`?search=Directus
`)],-1),as=s("h3",{id:"graphql-2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-2"},"#"),n(" GraphQL")],-1),ls=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"search"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"Directus"'),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),es=s("hr",null,null,-1),os=s("h2",{id:"sort",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#sort"},"#"),n(" Sort")],-1),is=s("p",null,[n("What field(s) to sort by. Sorting defaults to ascending, but a minus sign ("),s("code",null,"-"),n(") can be used to reverse this to descending order. Fields are prioritized by the order in the parameter. The dot-notation has to be used when sorting with values of nested fields.")],-1),cs=s("h3",{id:"examples-2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples-2"},"#"),n(" Examples")],-1),us=s("p",null,[n("Sort by creation date descending"),s("br"),s("code",null,"-date_created")],-1),hs=s("p",null,[n("Sort by a “sort” field, followed by publish date descending"),s("br"),s("code",null,"sort, -publish_date")],-1),rs=s("p",null,[n("Sort by a “sort” field, followed by a nested author’s name"),s("br"),s("code",null,"sort, -author.name")],-1),ps=s("h3",{id:"rest-api-3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-3"},"#"),n(" REST API")],-1),ds=s("pre",null,[s("code",null,`?sort=sort,-date_created,author.name

// or

?sort[]=sort
&sort[]=-date_created
&sort[]=-author.name
`)],-1),_s=s("h3",{id:"graphql-3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-3"},"#"),n(" GraphQL")],-1),fs=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"sort"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"["),s("span",{class:"hljs-string"},'"sort"'),n(", "),s("span",{class:"hljs-string"},'"-date_created"'),n(", "),s("span",{class:"hljs-string"},'"author.name"'),s("span",{class:"hljs-punctuation"},"]"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),ms=s("hr",null,null,-1),js=s("h2",{id:"limit",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#limit"},"#"),n(" Limit")],-1),gs=s("p",null,[n("Set the maximum number of items that will be returned. The default limit is set to "),s("code",null,"100"),n(".")],-1),bs=s("h3",{id:"examples-3",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples-3"},"#"),n(" Examples")],-1),ys=s("p",null,[n("Get the first 200 items"),s("br"),s("code",null,"200")],-1),xs=s("p",null,[n("Get all items"),s("br"),s("code",null,"-1")],-1),vs=s("div",{class:"warning hint"},[s("div",{class:"hint-title"},"All Items"),s("p",null,"Depending on the size of your collection, fetching unlimited data may result in degraded performance or timeouts, use with caution.")],-1),ws=s("h3",{id:"rest-api-4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-4"},"#"),n(" REST API")],-1),qs=s("pre",null,[s("code",null,`?limit=200
`)],-1),ks=s("h3",{id:"graphql-4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-4"},"#"),n(" GraphQL")],-1),Gs=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"limit"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"200"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),As=s("hr",null,null,-1),Es=s("h2",{id:"offset",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#offset"},"#"),n(" Offset")],-1),Ts=s("p",null,[n("Skip the first "),s("code",null,"n"),n(" items in the response. Can be used for pagination.")],-1),Ss=s("h3",{id:"examples-4",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples-4"},"#"),n(" Examples")],-1),Rs=s("p",null,[n("Get items 101—200"),s("br"),s("code",null,"100")],-1),Ls=s("h3",{id:"rest-api-5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-5"},"#"),n(" REST API")],-1),Is=s("pre",null,[s("code",null,`?offset=100
`)],-1),Ps=s("h3",{id:"graphql-5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-5"},"#"),n(" GraphQL")],-1),Qs=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"offset"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"100"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),Fs=s("hr",null,null,-1),Ds=s("h2",{id:"page",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#page"},"#"),n(" Page")],-1),Ns=s("p",null,[n("An alternative to "),s("code",null,"offset"),n(". Page is a way to set "),s("code",null,"offset"),n(" under the hood by calculating "),s("code",null,"limit * page"),n(". Page is 1-indexed.")],-1),Cs=s("h3",{id:"examples-5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples-5"},"#"),n(" Examples")],-1),Bs=s("p",null,[n("Get items 1-100"),s("br"),s("code",null,"1")],-1),Ms=s("p",null,[n("Get items 101-200"),s("br"),s("code",null,"2")],-1),zs=s("h3",{id:"rest-api-6",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-6"},"#"),n(" REST API")],-1),Os=s("pre",null,[s("code",null,`?page=2
`)],-1),Us=s("h3",{id:"graphql-6",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-6"},"#"),n(" GraphQL")],-1),Ws=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"page"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"2"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),Vs=s("hr",null,null,-1),Js=s("h2",{id:"aggregation-%26-grouping",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#aggregation-%26-grouping"},"#"),n(" Aggregation & Grouping")],-1),Ys=s("p",null,"Aggregate functions allow you to perform calculations on a set of values, returning a single result.",-1),Hs=s("p",null,"The following aggregation functions are available in Directus:",-1),Ks=s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"Name"),s("th",null,"Description")])]),s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"count")]),s("td",null,"Counts how many items there are")]),s("tr",null,[s("td",null,[s("code",null,"countDistinct")]),s("td",null,"Counts how many unique items there are")]),s("tr",null,[s("td",null,[s("code",null,"sum")]),s("td",null,"Adds together the values in the given field")]),s("tr",null,[s("td",null,[s("code",null,"sumDistinct")]),s("td",null,"Adds together the unique values in the given field")]),s("tr",null,[s("td",null,[s("code",null,"avg")]),s("td",null,"Get the average value of the given field")]),s("tr",null,[s("td",null,[s("code",null,"avgDistinct")]),s("td",null,"Get the average value of the unique values in the given field")]),s("tr",null,[s("td",null,[s("code",null,"min")]),s("td",null,"Return the lowest value in the field")]),s("tr",null,[s("td",null,[s("code",null,"max")]),s("td",null,"Return the highest value in the field")]),s("tr",null,[s("td",null,[s("code",null,"countAll")]),s("td",null,[n("Equivalent to "),s("code",null,"?aggregate[count]=*"),n(" (GraphQL only)")])])])],-1),Xs=s("h3",{id:"grouping",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#grouping"},"#"),n(" Grouping")],-1),Zs=s("p",null,[n("By default, the above aggregation functions run on the whole dataset. To allow for more flexible reporting, you can combine the above aggregation with grouping. Grouping allows for running the aggregation functions based on a shared value. This allows for things like "),s("em",null,"“Average rating per month”"),n(" or "),s("em",null,"“Total sales of items in the jeans category”"),n(".")],-1),$s=s("p",null,[n("The "),s("code",null,"groupBy"),n(" query allows for grouping on multiple fields simultaneously. Combined with the "),s("a",{href:"#functions"},"Functions"),n(", this allows for aggregate reporting per year-month-date.")],-1),sn=s("h3",{id:"rest-api-7",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-7"},"#"),n(" REST API")],-1),nn=s("pre",null,[s("code",null,`?aggregate[avg]=cost
&groupBy[]=author
&groupBy[]=year(publish_date)
`)],-1),tn=s("h3",{id:"graphql-7",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-7"},"#"),n(" GraphQL")],-1),an=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles_aggregated`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"groupBy"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"["),s("span",{class:"hljs-string"},'"author"'),n(", "),s("span",{class:"hljs-string"},'"year(publish_date)"'),s("span",{class:"hljs-punctuation"},"]"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		group
		sum `),s("span",{class:"hljs-punctuation"},"{"),n(`
			revenue
		`),s("span",{class:"hljs-punctuation"},"}"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),ln=s("hr",null,null,-1),en=s("h2",{id:"deep",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#deep"},"#"),n(" Deep")],-1),on=s("p",null,"Deep allows you to set any of the other query parameters on a nested relational dataset.",-1),cn=s("h3",{id:"examples-6",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#examples-6"},"#"),n(" Examples")],-1),un=s("p",null,"Limit the nested related articles to 3",-1),hn=s("pre",null,[s("code",{class:"language-json"},[s("span",{class:"hljs-punctuation"},"{"),n(`
	`),s("span",{class:"hljs-attr"},'"related_articles"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-attr"},'"_limit"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"3"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),rn=s("p",null,"Only get 3 related articles, with only the top rated comment nested",-1),pn=s("pre",null,[s("code",{class:"language-json"},[s("span",{class:"hljs-punctuation"},"{"),n(`
	`),s("span",{class:"hljs-attr"},'"related_articles"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-attr"},'"_limit"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"3"),s("span",{class:"hljs-punctuation"},","),n(`
		`),s("span",{class:"hljs-attr"},'"comments"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
			`),s("span",{class:"hljs-attr"},'"_sort"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"rating"'),s("span",{class:"hljs-punctuation"},","),n(`
			`),s("span",{class:"hljs-attr"},'"_limit"'),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"1"),n(`
		`),s("span",{class:"hljs-punctuation"},"}"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),dn=s("h3",{id:"rest-api-8",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-8"},"#"),n(" REST API")],-1),_n=s("pre",null,[s("code",null,`?deep[translations][_filter][languages_code][_eq]=en-US

// or

?deep={ "translations": { "_filter": { "languages_code": { "_eq": "en-US" }}}}
`)],-1),fn=s("h3",{id:"graphql-8",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-8"},"#"),n(" GraphQL")],-1),mn=s("p",null,[s("em",null,"Natively supported in GraphQL:")],-1),jn=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	members `),s("span",{class:"hljs-punctuation"},"{"),n(`
		favorite_games`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"filter"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"name"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"_eq"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"Mariokart 8"'),n(),s("span",{class:"hljs-punctuation"},"}"),n(),s("span",{class:"hljs-punctuation"},"}"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
			id
			featured_image `),s("span",{class:"hljs-punctuation"},"{"),n(`
				filename_disk
			`),s("span",{class:"hljs-punctuation"},"}"),n(`
		`),s("span",{class:"hljs-punctuation"},"}"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),gn=s("hr",null,null,-1),bn=s("h2",{id:"aliases",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#aliases"},"#"),n(" Aliases")],-1),yn=s("p",null,"Aliases allow you rename fields on the fly, and request the same nested data set multiple times using different filters.",-1),xn=s("div",{class:"warning hint"},[s("div",{class:"hint-title"},"Nested fields"),s("p",null,[n("It is only possible to alias same level fields."),s("br"),n(" Alias for nested fields, f.e. "),s("code",null,"field.nested"),n(", will not work.")])],-1),vn=s("h3",{id:"rest-api-9",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-9"},"#"),n(" REST API")],-1),wn=s("pre",null,[s("code",null,`?alias[all_translations]=translations
&alias[dutch_translations]=translations
&deep[dutch_translations][_filter][code][_eq]=nl-NL
`)],-1),qn=s("h3",{id:"graphql-9",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-9"},"#"),n(" GraphQL")],-1),kn=s("p",null,[s("em",null,"Natively supported in GraphQL:")],-1),Gn=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles `),s("span",{class:"hljs-punctuation"},"{"),n(`
		`),s("span",{class:"hljs-symbol"},"dutch_translations"),s("span",{class:"hljs-punctuation"},":"),n(" translations"),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"filter"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"code"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"_eq"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-string"},'"nl-NL"'),n(),s("span",{class:"hljs-punctuation"},"}"),n(),s("span",{class:"hljs-punctuation"},"}"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
			id
		`),s("span",{class:"hljs-punctuation"},"}"),n(`

		`),s("span",{class:"hljs-symbol"},"all_translations"),s("span",{class:"hljs-punctuation"},":"),n(" translations "),s("span",{class:"hljs-punctuation"},"{"),n(`
			id
		`),s("span",{class:"hljs-punctuation"},"}"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),An=s("hr",null,null,-1),En=s("h2",{id:"export",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#export"},"#"),n(" Export")],-1),Tn=s("p",null,"Save the current API response to a file.",-1),Sn=s("p",null,[n("Saves the API response to a file. Accepts one of "),s("code",null,"json"),n(", "),s("code",null,"csv"),n(", "),s("code",null,"xml"),n(".")],-1),Rn=s("h3",{id:"rest-api-10",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-10"},"#"),n(" REST API")],-1),Ln=s("pre",null,[s("code",null,`?export=json
?export=csv
?export=xml
`)],-1),In=s("h3",{id:"graphql-10",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-10"},"#"),n(" GraphQL")],-1),Pn=s("p",null,"n/a",-1),Qn=s("hr",null,null,-1),Fn=s("h2",{id:"functions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#functions"},"#"),n(" Functions")],-1),Dn=s("p",null,"Functions allow for “live” modification of values stored in a field. Functions can be used in any query parameter you’d normally supply a field key, including fields, aggregation, and filter.",-1),Nn=s("p",null,"Functions can be used by wrapping the field key in a JavaScript like syntax, for example:",-1),Cn=s("p",null,[s("code",null,"timestamp"),n(" -> "),s("code",null,"year(timestamp)")],-1),Bn=s("h3",{id:"datetime-functions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#datetime-functions"},"#"),n(" DateTime Functions")],-1),Mn=s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"Filter"),s("th",null,"Description")])]),s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"year")]),s("td",null,"Extract the year from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"month")]),s("td",null,"Extract the month from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"week")]),s("td",null,"Extract the week from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"day")]),s("td",null,"Extract the day from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"weekday")]),s("td",null,"Extract the weekday from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"hour")]),s("td",null,"Extract the hour from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"minute")]),s("td",null,"Extract the minute from a datetime/date/timestamp field")]),s("tr",null,[s("td",null,[s("code",null,"second")]),s("td",null,"Extract the second from a datetime/date/timestamp field")])])],-1),zn=s("h3",{id:"array-functions",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#array-functions"},"#"),n(" Array Functions")],-1),On=s("table",null,[s("thead",null,[s("tr",null,[s("th",null,"Filter"),s("th",null,"Description")])]),s("tbody",null,[s("tr",null,[s("td",null,[s("code",null,"count")]),s("td",null,"Extract the number of items from a JSON array or relational field")])])],-1),Un=s("div",{class:"warning hint"},[s("div",{class:"hint-title"},"GraphQL"),s("p",null,[n("Names aren’t allowed to include any special characters in GraphQL, preventing the "),s("code",null,"()"),n(" syntax from being used.")]),s("p",null,[n("As an alternative, the above functions can be used by appending "),s("code",null,"_func"),n(" at the end of the field name, and using the function name as the nested field (see the example that follows).")])],-1),Wn=s("h3",{id:"rest-api-11",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-11"},"#"),n(" REST API")],-1),Vn=s("pre",null,[s("code",null,`?fields=id,title,weekday(date_published)
&filter[year(date_published)][_eq]=2021
`)],-1),Jn=s("h3",{id:"graphql-11",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-11"},"#"),n(" GraphQL")],-1),Yn=s("pre",null,[s("code",{class:"language-graphql"},[s("span",{class:"hljs-keyword"},"query"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
	articles`),s("span",{class:"hljs-punctuation"},"("),s("span",{class:"hljs-symbol"},"filter"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"date_published_func"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"year"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-punctuation"},"{"),n(),s("span",{class:"hljs-symbol"},"_eq"),s("span",{class:"hljs-punctuation"},":"),n(),s("span",{class:"hljs-number"},"2021"),n(),s("span",{class:"hljs-punctuation"},"}"),n(),s("span",{class:"hljs-punctuation"},"}"),n(),s("span",{class:"hljs-punctuation"},"}"),s("span",{class:"hljs-punctuation"},")"),n(),s("span",{class:"hljs-punctuation"},"{"),n(`
		id
		title
		date_published_func `),s("span",{class:"hljs-punctuation"},"{"),n(`
			weekday
		`),s("span",{class:"hljs-punctuation"},"}"),n(`
	`),s("span",{class:"hljs-punctuation"},"}"),n(`
`),s("span",{class:"hljs-punctuation"},"}"),n(`
`)])],-1),Hn=s("hr",null,null,-1),Kn=s("h2",{id:"metadata",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#metadata"},"#"),n(" Metadata")],-1),Xn=s("p",null,[n("Metadata allows you to retrieve some additional information about the items in the collection you’re fetching. "),s("code",null,"*"),n(" can be used as a wildcard to retrieve all metadata.")],-1),Zn=s("h3",{id:"total-count",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#total-count"},"#"),n(" Total Count")],-1),$n=s("p",null,"Returns the total item count of the collection you’re querying.",-1),st=s("h3",{id:"filter-count",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#filter-count"},"#"),n(" Filter Count")],-1),nt=s("p",null,"Returns the item count of the collection you’re querying, taking the current filter/search parameters into account.",-1),tt=s("h3",{id:"rest-api-12",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#rest-api-12"},"#"),n(" REST API")],-1),at=s("pre",null,[s("code",null,`?meta=total_count

?meta=filter_count

?meta=*
`)],-1),lt=s("h3",{id:"graphql-12",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#graphql-12"},"#"),n(" GraphQL")],-1),et=s("p",null,"n/a",-1),ht="Global Query Parameters",rt=!1,pt="REST and GraphQL API documentation to run queries in Directus.",dt="9 min read",_t="page-reference",ft={__name:"query",setup(ot,{expose:e}){const t={title:"Global Query Parameters",modularExtension:!1,description:"REST and GraphQL API documentation to run queries in Directus.",readTime:"9 min read",pageClass:"page-reference"};return e({frontmatter:t}),(it,ct)=>{const o=a("router-link"),i=a("docs-wrapper");return c(),u(i,{frontmatter:t},{default:l(()=>[s("div",r,[p,d,_,f,m,j,g,b,y,x,v,w,q,k,G,A,E,T,S,R,L,I,P,s("p",null,[n("Used to search items in a collection that matches the filter’s conditions. The filter param follows "),h(o,{to:"/docs/reference/filter-rules"},{default:l(()=>[n("the Filter Rules spec")]),_:1}),n(", which includes additional information on logical operators (AND/OR), nested relational filtering, and dynamic variables.")]),Q,F,D,N,C,B,M,z,O,U,W,V,J,Y,H,K,X,Z,$,ss,ns,ts,as,ls,es,os,is,cs,us,hs,rs,ps,ds,_s,fs,ms,js,gs,bs,ys,xs,vs,ws,qs,ks,Gs,As,Es,Ts,Ss,Rs,Ls,Is,Ps,Qs,Fs,Ds,Ns,Cs,Bs,Ms,zs,Os,Us,Ws,Vs,Js,Ys,Hs,Ks,Xs,Zs,$s,sn,nn,tn,an,ln,en,on,cn,un,hn,rn,pn,dn,_n,fn,mn,jn,gn,bn,yn,xn,vn,wn,qn,kn,Gn,An,En,Tn,Sn,Rn,Ln,In,Pn,Qn,Fn,Dn,Nn,Cn,Bn,Mn,zn,On,Un,Wn,Vn,Jn,Yn,Hn,Kn,Xn,Zn,$n,st,nt,tt,at,lt,et])]),_:1})}}};export{ft as default,pt as description,rt as modularExtension,_t as pageClass,dt as readTime,ht as title};

import{a as d,o as u,e as h,y as t,u as e,t as i,q as o,z as l}from"./runtime-core.esm-bundler-753bcc58.js";const p={class:"markdown-body"},_={class:"tip hint"},f={class:"hint-title"},m=e("strong",null,"Directus Version:",-1),g=e("h2",{id:"explanation",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#explanation"},"#"),o(" Explanation")],-1),y=e("p",null,"In a personal portfolio site, you’ll typically have at least the following three types of pages, composed of the following content:",-1),b=e("ul",null,[e("li",null,[o("A "),e("code",null,"Resume"),o(" page composed of: "),e("ul",null,[e("li",null,[e("code",null,"text"),o(" noting your education, work experience, and skills.")]),e("li",null,[e("code",null,"user"),o(" details, such as your email, phone number, social media links, etc.")])])]),e("li",null,[o("A "),e("code",null,"Portfolio"),o(" page composed of: "),e("ul",null,[e("li",null,[e("code",null,"text"),o(" describing work projects.")]),e("li",null,[e("code",null,"images"),o(" to demonstrate work projects.")]),e("li",null,[e("code",null,"video"),o(" to demonstrate work projects.")])])]),e("li",null,[o("An "),e("code",null,"About"),o(" page composed of: "),e("ul",null,[e("li",null,[e("code",null,"text"),o(" to talk about your life, hobbies, or career goals.")]),e("li",null,[e("code",null,"images"),o(" to show off your life and highlight your personality.")]),e("li",null,[e("code",null,"video"),o(" so people can see you speak and get an idea of your personal presence.")]),e("li",null,[e("code",null,"user"),o(" details such as your headshot (linked from "),e("code",null,"images"),o(") or location.")])])])],-1),w=e("p",null,[o("All three pages are unique in structure, yet composed of the same basic types of content from the same four collections: "),e("code",null,"text"),o(", "),e("code",null,"images"),o(", "),e("code",null,"video"),o(", and "),e("code",null,"directus_user"),o(" details. You may also want to add on more pages over time. For example: multiple portfolios "),e("em",null,"(one for UX, one for development, one for design, etc)"),o(" which again would all be composed of those building blocks. For this content category, "),e("em",null,"tweaks and restructures"),o(" are quite common. Resumes need to be updated. Portfolios expand over time.")],-1),v=e("p",null,"For data or content that require the type of structural flexibility described above, an M2A relationship is one suitable way to manage your data. Directus provides a special M2A Interface which makes it quick and easy to build data and content.",-1),x=e("p",null,"In this recipe, we’ll explain how to build the above personal portfolio with an M2A data model. Then in the final tips, discuss its pros and cons to this approach, and list out other alternative approaches.",-1),k=e("h2",{id:"the-recipe",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#the-recipe"},"#"),o(" The Recipe")],-1),A={class:"tip hint"},I=e("div",{class:"hint-title"},"Requirements",-1),M=e("h3",{id:"create-the-initial-collections",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#create-the-initial-collections"},"#"),o(" Create the Initial Collections")],-1),T=e("pre",null,[e("code",null,`text
- id
- text_content (a standard input field with a Markdown Interface)
`)],-1),C=e("pre",null,[e("code",null,`videos
- id
- video_url (a standard input field)
`)],-1),P={class:"tip hint"},q=e("code",null,"user",-1),D=e("code",null,"images",-1),F=e("code",null,"directus_files",-1),N=e("code",null,"directus_users",-1),R=e("code",null,"directus_users",-1),E=e("h3",{id:"configure-an-m2a",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#configure-an-m2a"},"#"),o(" Configure an M2A")],-1),Y=e("p",null,[o("Now we need to create a "),e("code",null,"pages"),o(" collection, which will contain our M2A relationship.")],-1),j=e("ol",{start:"2"},[e("li",null,[o("Create the "),e("code",null,"pages"),o(" collection.")])],-1),B=e("pre",null,[e("code",null,`pages
- id
- title (a standard STRING input field, to store the page title)
- page_content (an M2A with a content builder Interface)
`)],-1),S={start:"3"},V=e("code",null,"pages.page_content",-1),U=e("ul",null,[e("li",null,[e("code",null,"text")]),e("li",null,[e("code",null,"videos")]),e("li",null,[e("code",null,"directus_users")]),e("li",null,[e("code",null,"directus_files")])],-1),$=e("p",null,"At this point, our basic data model configurations are done.",-1),z={start:"4"},G=e("code",null,"directus_users",-1),X=e("code",null,"directus_files",-1),H=e("h3",{id:"build-and-display-content",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#build-and-display-content"},"#"),o(" Build and Display Content")],-1),J={start:"5"},K=e("code",null,"Resume",-1),L=e("code",null,"Portfolio",-1),O=e("code",null,"About",-1),Q=e("h2",{id:"final-tips",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#final-tips"},"#"),o(" Final Tips")],-1),W=e("code",null,"/items/pages",-1),Z=e("code",null,"page_content",-1),ee=e("p",null,"There are a few important things to keep in mind when using M2A to build content.",-1),oe=e("h3",{id:"is-it-necessary%3F",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#is-it-necessary%3F"},"#"),o(" Is it necessary?")],-1),te=e("p",null,"The use-case in our recipe is for a three-page portfolio site, which is quite simple overall.",-1),ne=e("em",null,"(but less complex)",-1),le=e("p",null,"Alternatively, if you plan to have more and more unique pages composed of the same content-types, using M2A with more complex frontend logic may end up being more efficient than countless Singletons.",-1),se=e("h3",{id:"is-m2a-only-for-content%3F",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#is-m2a-only-for-content%3F"},"#"),o(" Is M2A only for content?")],-1),ie=e("p",null,[o("Although the Directus M2A Interface was designed with content building in mind, the underlying data model is not limited to any specific data types. You could use it for whatever you wanted, from "),e("em",null,"inventory to IoT networks and beyond!")],-1),re="Personal Portfolio Using M2A",ue=!1,he="This recipe demonstrates how to use an M2A relationship to build content dynamically.",pe=[],_e=null,fe="9.18.1",me=null,ge="Eron Powell",ye={__name:"personal-portfolio-using-m2a",setup(ae,{expose:c}){const a={title:"Personal Portfolio Using M2A",modularExtension:!1,description:"This recipe demonstrates how to use an M2A relationship to build content dynamically.",tags:[],skill_level:null,directus_version:"9.18.1",author_override:null,author:"Eron Powell"};return c({frontmatter:a}),(s,de)=>{const n=d("router-link"),r=d("docs-wrapper");return u(),h(r,{frontmatter:a},{default:t(()=>[e("div",p,[e("blockquote",null,[e("p",null,i(s.$frontmatter.description),1)]),e("div",_,[e("div",f,"Author: "+i(s.$frontmatter.author),1),e("p",null,[m,o(" "+i(s.$frontmatter.directus_version),1)])]),g,y,b,w,v,x,k,e("div",A,[I,e("p",null,[o("You’ll need a basic understanding of "),l(n,{to:"/docs/configuration/data-model.md"},{default:t(()=>[o("data models")]),_:1}),o(" and "),l(n,{to:"/docs/configuration/users-roles-permissions.md"},{default:t(()=>[o("permissions")]),_:1}),o(" in Directus.")])]),M,e("ol",null,[e("li",null,[l(n,{to:"/docs/configuration/data-model/collections.md#create-a-collection"},{default:t(()=>[o("Create collections")]),_:1}),o(" and "),l(n,{to:"/docs/configuration/data-model/fields.md#create-a-field-advanced"},{default:t(()=>[o("add fields")]),_:1}),o(" as follows:")])]),T,C,e("div",P,[e("p",null,[o("In Directus, your "),q,o(" and "),D,o(" collections already exist. They are the built-in "),l(n,{to:"/docs/configuration/data-model/collections.html#system-collections"},{default:t(()=>[o("system collections")]),_:1}),o(": "),F,o(" and "),N,o(". If you’d like to add geo-coordinates or social media links to "),R,o(", add fields as desired.")])]),E,Y,j,B,e("ol",S,[e("li",null,[l(n,{to:"/docs/configuration/data-model/fields.md#configure-a-field"},{default:t(()=>[o("Configure the field")]),_:1}),o(),V,o(" so its related to: "),U])]),$,e("ol",z,[e("li",null,[l(n,{to:"/docs/configuration/users-roles-permissions/permissions.md#configure-permissions"},{default:t(()=>[o("Configure permissions")]),_:1}),o(" for each data model as desired. You’ll likely want to give Public read permissions to the collections we made and configure custom access permissions for the "),G,o(" and "),X,o(".")])]),H,e("ol",J,[e("li",null,[l(n,{to:"/docs/app/content/items.md#create-an-item"},{default:t(()=>[o("Create items")]),_:1}),o(" for your "),K,o(", "),L,o(", and "),O,o(" pages.")])]),Q,e("p",null,[o("Next, you’ll want to access these with the API. If you try to use "),W,o(" then "),Z,o(" returns an array of IDs. Instead, you’ll want to add a "),l(n,{to:"/docs/reference/query.md#many-to-any-union-types"},{default:t(()=>[o("field parameter")]),_:1}),o(" to get nested relational data.")]),ee,oe,te,e("p",null,[o("There’s a fair amount of complexity involved with an M2A in the data model, but also in the frontend, as you’ll have to build frontend logic that iterates through each page item, identifies its constituent content types, and injects each one into an appropriate component or template. In the case of a three-page portfolio blog, that frontend development may be more complexity than you’re bargaining for. You could instead opt for a "),l(n,{to:"/docs/getting-started/glossary.html#singleton"},{default:t(()=>[o("Singleton")]),_:1}),o(" collection and then create three separate "),ne,o(" pages.")]),le,se,ie])]),_:1})}}};export{ge as author,me as author_override,ye as default,he as description,fe as directus_version,ue as modularExtension,_e as skill_level,pe as tags,re as title};
